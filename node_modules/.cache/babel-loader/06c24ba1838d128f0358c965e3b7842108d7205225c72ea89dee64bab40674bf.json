{"ast":null,"code":"import'./LoginPage.css';import logo from'../files/logo_main.png';import{React}from'react';import{useHistory}from\"react-router-dom\";import{NavLink}from'react-router-dom/cjs/react-router-dom.min';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var LoginPage=function LoginPage(){var history=useHistory();function handleSubmit(event){event.preventDefault();fetch(\"https://localhost:7185/api/users/\".concat(event.target.email.value,\"/\").concat(event.target.password.value),{method:'GET',headers:{\"Content-Type\":'application/json'}}).then(function(response){return response.json();}).then(function(responseJson){if(responseJson.userId!=-1){localStorage.setItem(\"UserId\",responseJson.userId);localStorage.setItem(\"UserType\",responseJson.userType);history.push(\"/home\");}else alert(\"Wrong Password\");});}return/*#__PURE__*/_jsx(\"div\",{className:\"columns\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"logo-image\",children:/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"OnlyTutors logo\"})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,method:\"POST\",action:\"http://localhost:5000/users/\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"item username login\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Email:\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"your email adress\",name:\"email\",type:\"email\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"item login password\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Password:\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"your password\",name:\"password\",type:\"password\",required:true})]}),/*#__PURE__*/_jsx(\"div\",{className:\"login\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"submit-button\",children:\"Sign in\"})}),/*#__PURE__*/_jsx(NavLink,{to:\"/Sign-Up\",children:/*#__PURE__*/_jsx(\"div\",{className:\"login sign\",children:\"Create a New Account\"})})]})]})});};","map":{"version":3,"names":["logo","React","useHistory","NavLink","LoginPage","history","handleSubmit","event","preventDefault","fetch","target","email","value","password","method","headers","then","response","json","responseJson","userId","localStorage","setItem","userType","push","alert"],"sources":["C:/Work/C#/Git/OnlyTutorsFrontEnd/src/Components/LoginPage/LoginPage.js"],"sourcesContent":["import './LoginPage.css';\r\nimport logo from '../files/logo_main.png';\r\nimport {React} from 'react';\r\nimport {useHistory} from \"react-router-dom\";\r\nimport { NavLink } from 'react-router-dom/cjs/react-router-dom.min';\r\n \r\n\r\nexport const LoginPage = () => {\r\n    const history = useHistory();\r\n\r\n\r\n    function handleSubmit (event) {\r\n        event.preventDefault();\r\n    \r\n        fetch(`https://localhost:7185/api/users/${event.target.email.value}/${event.target.password.value}`, {\r\n          method: 'GET',\r\n          headers: {\"Content-Type\":'application/json'},\r\n        }).then(response => response.json()).then(responseJson =>  {\r\n    \r\n            if(responseJson.userId != -1)\r\n            {\r\n                localStorage.setItem(\"UserId\",responseJson.userId);\r\n                localStorage.setItem(\"UserType\",responseJson.userType);\r\n                history.push(\"/home\");\r\n            }\r\n            else\r\n                alert(\"Wrong Password\");\r\n        });\r\n    }\r\n\r\n  return (\r\n    <div className='columns'>\r\n        <div className='row1'>\r\n          \r\n          <div className='logo-image'>\r\n            <img src={logo} alt='OnlyTutors logo'/>\r\n          </div>\r\n          <form onSubmit={handleSubmit} method='POST' action='http://localhost:5000/users/'>\r\n            <div className='item username login'>\r\n                <h2>Email:</h2>\r\n                <input placeholder='your email adress' name=\"email\" type=\"email\" required></input>\r\n            </div>\r\n\r\n            <div className='item login password'>\r\n                <h2>Password:</h2>\r\n                <input placeholder='your password' name=\"password\" type='password' required></input>\r\n            </div>\r\n            <div className='login'>\r\n                <button type='submit' className=\"submit-button\">Sign in</button>\r\n            </div>\r\n            <NavLink to='/Sign-Up'>\r\n              <div className='login sign'>\r\n                  Create a New Account\r\n              </div>\r\n            </NavLink>\r\n          </form>\r\n        </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"mappings":"AAAA,MAAO,iBAAiB,CACxB,MAAOA,KAAI,KAAM,wBAAwB,CACzC,OAAQC,KAAK,KAAO,OAAO,CAC3B,OAAQC,UAAU,KAAO,kBAAkB,CAC3C,OAASC,OAAO,KAAQ,2CAA2C,CAAC,wFAGpE,MAAO,IAAMC,UAAS,CAAG,QAAZA,UAAS,EAAS,CAC3B,GAAMC,QAAO,CAAGH,UAAU,EAAE,CAG5B,QAASI,aAAY,CAAEC,KAAK,CAAE,CAC1BA,KAAK,CAACC,cAAc,EAAE,CAEtBC,KAAK,4CAAqCF,KAAK,CAACG,MAAM,CAACC,KAAK,CAACC,KAAK,aAAIL,KAAK,CAACG,MAAM,CAACG,QAAQ,CAACD,KAAK,EAAI,CACnGE,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CAAC,cAAc,CAAC,kBAAkB,CAC7C,CAAC,CAAC,CAACC,IAAI,CAAC,SAAAC,QAAQ,QAAIA,SAAQ,CAACC,IAAI,EAAE,GAAC,CAACF,IAAI,CAAC,SAAAG,YAAY,CAAK,CAEvD,GAAGA,YAAY,CAACC,MAAM,EAAI,CAAC,CAAC,CAC5B,CACIC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAACH,YAAY,CAACC,MAAM,CAAC,CAClDC,YAAY,CAACC,OAAO,CAAC,UAAU,CAACH,YAAY,CAACI,QAAQ,CAAC,CACtDlB,OAAO,CAACmB,IAAI,CAAC,OAAO,CAAC,CACzB,CAAC,IAEGC,MAAK,CAAC,gBAAgB,CAAC,CAC/B,CAAC,CAAC,CACN,CAEF,mBACE,YAAK,SAAS,CAAC,SAAS,uBACpB,aAAK,SAAS,CAAC,MAAM,wBAEnB,YAAK,SAAS,CAAC,YAAY,uBACzB,YAAK,GAAG,CAAEzB,IAAK,CAAC,GAAG,CAAC,iBAAiB,EAAE,EACnC,cACN,cAAM,QAAQ,CAAEM,YAAa,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,8BAA8B,wBAC/E,aAAK,SAAS,CAAC,qBAAqB,wBAChC,oBAAI,QAAM,EAAK,cACf,cAAO,WAAW,CAAC,mBAAmB,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,OAAS,GAChF,cAEN,aAAK,SAAS,CAAC,qBAAqB,wBAChC,oBAAI,WAAS,EAAK,cAClB,cAAO,WAAW,CAAC,eAAe,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,OAAS,GAClF,cACN,YAAK,SAAS,CAAC,OAAO,uBAClB,eAAQ,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,eAAe,UAAC,SAAO,EAAS,EAC9D,cACN,KAAC,OAAO,EAAC,EAAE,CAAC,UAAU,uBACpB,YAAK,SAAS,CAAC,YAAY,UAAC,sBAE5B,EAAM,EACE,GACL,GACH,EACJ,CAEV,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}